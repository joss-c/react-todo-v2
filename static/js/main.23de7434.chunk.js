(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(51)},31:function(e,t,a){},47:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(4),i=a.n(l),s=(a(31),a(5)),o=a(6),c=a(8),u=a(7),d=a(9),m=function(e,t){var a=new Date(e).toISOString().substring(0,10);if("ISO"===t)return a;if("timestamp"===t)return new Date(e).getTime();if("local"===t){var n=a.substring(0,4),r=a.substring(5,7),l=a.substring(8,10),i=new Date;return i.setUTCFullYear(n),i.setUTCMonth(r-1),i.setUTCDate(l),i.toLocaleDateString("en-GB")}},g=function(e){var t=m(Date.now(),"ISO");return e-(t=m(t,"timestamp"))<0?"Overdue":e-t===0?"Today":e-t===864e5?"Tomorrow":m(e,"local")},h=function(e,t,a){var n=e[t];return 0===t&&(a=e.length),e.splice(t,1),e.splice(a,0,n),e},v=a(15),f=a(10),y=a(3),p=a(23),E=a.n(p),D=a(24),I=a.n(D),b=function(){function e(e){return e}function t(e){return"string"===typeof e?e.toLowerCase():e}function a(n,r){var l="function"==typeof this&&!this.firstBy&&this,i=function(a,n){if(n="number"===typeof n?{direction:n}:n||{},"function"!=typeof a){var r=a;a=function(e){return e[r]?e[r]:""}}if(1===a.length){var l=a,i=n.ignoreCase?t:e,s=n.cmp||function(e,t){return e<t?-1:e>t?1:0};a=function(e,t){return s(i(l(e)),i(l(t)))}}return-1===n.direction?function(e,t){return-a(e,t)}:a}(n,r),s=l?function(e,t){return l(e,t)||i(e,t)}:i;return s.thenBy=a,s}return a.firstBy=a,a}(),S=function(e){var t=e.handleOnChange,a=e.value,n=e.convertDate;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.f,{className:"calendar-element",onChange:t,type:"date",value:a,min:n(Date.now(),"ISO"),max:"2019-12-31"}))},C=function(e){var t=e.handleOnChange,a=e.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.f,{type:"select",className:"priority-element",value:a,onChange:t},r.a.createElement("option",{value:"Low"},"Low"),r.a.createElement("option",{value:"Medium"},"Medium"),r.a.createElement("option",{value:"High"},"High")))},N=function(e){return r.a.createElement("div",{className:"list"},e.children)},T=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.g,{className:"no-gutters"},r.a.createElement(y.b,{xs:"9"},r.a.createElement(k,{data:e.data,item:e.item,index:e.index,handleTextChange:e.handleTextChange,editText:e.editText,toggleEditItem:e.toggleEditItem},r.a.createElement(x,{item:e.item,articulateDateDue:e.articulateDateDue}))),r.a.createElement(y.b,{xs:"3"},r.a.createElement(f.TransitionGroup,null,r.a.createElement(f.CSSTransition,{key:e.item.id,timeout:500,classNames:"fade"},r.a.createElement(w,{item:e.item,index:e.index,markComplete:e.markComplete,sortItems:e.sortItems}))))),r.a.createElement(P,{item:e.item,index:e.index,markComplete:e.markComplete},r.a.createElement(y.g,null,r.a.createElement(y.b,null,r.a.createElement(S,{value:e.convertDate(e.item.dateDue,"ISO"),handleOnChange:function(t){return e.editDate(t,e.index)},convertDate:e.convertDate})),r.a.createElement(y.b,null,r.a.createElement(C,{value:e.convertPriority(e.item.priority),handleOnChange:function(t){return e.editPriority(t,e.index)}})))))},k=function(e){var t=e.data,a=e.item,n=e.index,l=e.toggleEditItem,i=e.handleTextChange,s=e.editText,o=e.children;return r.a.createElement("div",{className:"task",onClick:function(){return l(n)},style:{backgroundColor:a.active?3===a.priority?t.settings.style.colorLow:2===a.priority?t.settings.style.colorMedium:t.settings.style.colorHigh:"#e5e5e5"}},r.a.createElement("span",{style:{textDecorationLine:a.active?"none":"line-through"}},a.editPanelHidden?r.a.createElement(y.g,null,r.a.createElement(y.b,null,a.task)):r.a.createElement("span",null,r.a.createElement(y.g,{className:"edit-text no-gutters"},r.a.createElement(y.b,{xs:"10"},r.a.createElement(E.a,{className:"edit-text-element",onChange:function(e){return i(e)},onClick:function(e){return e.stopPropagation()},defaultValue:a.task})),r.a.createElement(y.b,{xs:"2"},r.a.createElement(y.a,{className:"edit-text-button",color:"secondary",size:"sm",onClick:function(){return s(n)}},"OK"))))),r.a.createElement("span",{className:"instance"},a.instance>1?" (".concat(a.instance,")"):null),o)},x=function(e){var t=e.item,a=e.articulateDateDue;return r.a.createElement(y.g,null,r.a.createElement(y.b,{className:"task-details"},r.a.createElement("span",{className:"date-due"},null===t.tag?null:r.a.createElement("span",{className:"tag"},t.tag),t.active?"Due: ".concat(a(t.dateDue)):"Complete")))},w=function(e){var t=e.item,a=e.index,n=e.markComplete,l=e.sortItems;return r.a.createElement("div",{className:"item-buttons"},r.a.createElement(y.a,{className:"sort-button",size:"sm",outline:!0,color:"secondary",onClick:function(){return l(a,!0)}},"\u2191"),r.a.createElement(y.a,{className:"delete-item-button",size:"sm",outline:!0,color:"success",onClick:function(){return n(a)}},t.active?"\u2713":"\u2715"))},P=function(e){var t=e.item,a=e.index,n=e.markComplete,l=e.children;return r.a.createElement("div",{className:"edit-task",hidden:t.editPanelHidden},r.a.createElement("span",{hidden:!t.active},l),r.a.createElement("div",{className:"undo"},r.a.createElement(y.a,{hidden:t.active,className:"undo-button",outline:!0,color:"secondary",onClick:function(){return n(a,!0)}},'Undo "Mark Complete"')))},O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).createItem=function(e){var t=a.props,n=t.data,r=t.selectedPriority,l=t.addItem,i=t.convertPriority,s=t.convertDate,o=t.selectedDate,c=t.selectedTag,u=a.inputElement.current.value,d=n.listItems.reduce(function(e,t){return e+(u===t.task?1:0)},1);l({active:!0,id:I()().substring(0,10),hidden:!1,task:u,priority:i(r),time:Date.now(),dateDue:s(o,"timestamp"),instance:d,editPanelHidden:!0,settingsHidden:!0,tag:"None"===c?null:c}),a.inputElement.current.value="",e.preventDefault()},a.inputElement=r.a.createRef(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.inputChange,a=e.buttonDisabled;return r.a.createElement(y.d,{onSubmit:this.createItem},r.a.createElement(y.e,null,r.a.createElement(y.g,{className:"row-0 no-gutters"},r.a.createElement(y.b,{className:"padding-right",xs:"9"},r.a.createElement(y.f,{type:"text",className:"input--add-task",onChange:t,innerRef:this.inputElement,placeholder:"Enter Task"})),r.a.createElement(y.b,{xs:"3"},r.a.createElement(y.a,{className:"add-button",outline:!0,color:"primary",disabled:a,type:"submit"},"Add")))))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).addItem=function(e){var t=a.state,n=t.data,r=t.selectedSort;n.listItems=Object(v.a)(n.listItems).concat([e]),n.listItems=a.sortItemsBy(n.listItems,r),a.setState({data:n,buttonDisabled:!0})},a.markComplete=function(e,t){var n=a.state.data;n.listItems[e].active?(n.listItems[e].active=!1,a.setState({data:n}),a.sortItems()):t?(n.listItems[e].active=!0,a.setState({data:n}),a.sortItems()):a.deleteItem(e)},a.deleteItem=function(e){var t=a.state.data;t.listItems=t.listItems.filter(function(t,a){return a!==e}),a.setState({data:t})},a.changePriority=function(e){var t=e.target.value;a.setState({selectedPriority:t})},a.convertPriority=function(e){return"string"===typeof e?"Low"===e?3:"Medium"===e?2:1:3===e?"Low":2===e?"Medium":"High"},a.editPriority=function(e,t){var n=a.state.data,r=a.state.selectedSort,l=e.target.value;n.listItems[t].priority=a.convertPriority(l),n.listItems[t].editPanelHidden=!0,n.listItems=a.sortItemsBy(n.listItems,r),a.setState({data:n})},a.editDate=function(e,t){var n=a.state.data,r=a.state.selectedSort,l=e.target.value;n.listItems[t].dateDue=m(l,"timestamp"),n.listItems[t].editPanelHidden=!0,n.listItems=a.sortItemsBy(n.listItems,r),a.setState({data:n})},a.inputChange=function(e){""===e.target.value?a.setState({buttonDisabled:!0}):a.setState({buttonDisabled:!1})},a.toggleItems=function(e,t,a){var n=e;return"selected tag"===t?n.forEach(function(e){return e.tag!==a&&(e.hidden=!0)}):"tags only"===t?n.forEach(function(e){return null===e.tag&&(e.hidden=!0)}):"show all"===t&&n.forEach(function(e){return e.hidden=!1}),n},a.sortItemsBy=function(e,t,n){var r=a.toggleItems(e,"show all");if("Manual"===t){var l=n-1;return a.props.arrayMove(e,n,l)}return"None"===t?e=r:"Priority"===t?(e=r).sort(b("active",-1).thenBy("priority").thenBy("dateDue").thenBy("task")):"Date Due"===t?(e=r).sort(b("active",-1).thenBy("dateDue").thenBy("priority").thenBy("task")):"A-Z"===t?(e=r).sort(b("active",-1).thenBy("task")):"Tags"===t?(e=r,(e=a.toggleItems(e,"tags only")).sort(b("tag").thenBy("priority").thenBy("dateDue").thenBy("task"))):"Selected Tag"===t?(e=a.toggleItems(e,"selected tag",a.state.selectedTag)).sort(b("tag").thenBy("priority").thenBy("dateDue").thenBy("task")):void 0},a.sortItems=function(e,t){var n=a.state.data,r=a.selectSortBy.current.value;t&&"None"===r&&(n.listItems=a.sortItemsBy(n.listItems,"Manual",e),a.setState({data:n})),n.listItems=a.sortItemsBy(n.listItems,r),a.setState({data:n,selectedSort:r})},a.toggleEditItem=function(e){var t=a.state.data,n=t.listItems[e],r=n.editPanelHidden;t.listItems.forEach(function(e,t){!1===e.editPanelHidden&&e!==n&&(e.editPanelHidden=!0)}),t.listItems[e].editPanelHidden=!r,a.setState({data:t,editTaskText:n.task})},a.changeDate=function(e){var t=e.target.value;a.setState({selectedDate:t})},a.changeColor=function(e,t){var n=a.state.data;n.settings.style[t]=e.target.value,a.setState({data:n,selectedStyle:"None"})},a.toggleSettings=function(){a.setState(function(e){return{settingsHidden:!e.settingsHidden}})},a.changeStyle=function(e){var t=a.state.data,n=e.target.value;"None"===n?a.setState({selectedStyle:n}):"Default"===n?(t.settings.style.colorHigh="#ff8680",t.settings.style.colorMedium="#ffe84b",t.settings.style.colorLow="#a8d7ea",a.setState({data:t,selectedStyle:n})):"Marie"===n&&(t.settings.style.colorHigh="#f46ed0",t.settings.style.colorMedium="#f2b5e2",t.settings.style.colorLow="#fce8f7",a.setState({data:t,selectedStyle:n}))},a.changeTag=function(e){var t=a.state,n=t.data,r=t.selectedSort,l=e.target.value;"Selected Tag"===r?(a.toggleItems(n.listItems,"show all"),a.toggleItems(n.listItems,"selected tag",l),a.setState({data:n,selectedTag:l})):a.setState({selectedTag:l})},a.addTag=function(){var e=a.state.data,t=prompt("Enter a new tag");""===t||e.tags.includes(t)?alert("Invalid tag or duplicate"):(e.tags=Object(v.a)(e.tags).concat([t]),a.setState({data:e,selectedTag:t}))},a.removeTag=function(){var e=a.state,t=e.data,n=e.selectedTag;t.tags=t.tags.filter(function(e){return e!==n||"None"===e}),a.setState({data:t,selectedTag:"None"})},a.editText=function(e){var t=a.state,n=t.data,r=t.editTaskText;n.listItems[e].task=r,a.setState({data:n})},a.handleTextChange=function(e){var t=e.target.value;a.setState({editTaskText:t})},a.state={data:a.props.data?JSON.parse(a.props.data):{listItems:[{active:!0,task:"Your First Task",priority:3,time:Date.now(),instance:1,editPanelHidden:!0,dateDue:Date.now(),tag:null}],settings:{style:{colorHigh:"#ff8680",colorMedium:"#ffe84b",colorLow:"#a8d7ea"}},tags:["None"]},buttonDisabled:!0,selectedPriority:"Low",selectedSort:"None",selectedDate:a.props.convertDate(Date.now(),"ISO"),settingsHidden:!0,selectedStyle:"None",selectedTag:"None",editTaskText:""},a.selectSortBy=r.a.createRef(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.state.data;(0,this.props.saveData)(e),console.log(e)}},{key:"componentDidMount",value:function(){this.sortItems(),console.log(this.state.data.listItems)}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.buttonDisabled,l=t.selectedPriority,i=t.selectedDate,s=t.selectedTag,o=t.selectedSort,c=t.settingsHidden,u=t.selectedStyle,d=this.props,m=d.convertDate,g=d.articulateDateDue;return r.a.createElement(y.c,null,r.a.createElement(y.g,null,r.a.createElement(y.b,{className:"todo",sm:"10",md:"7",lg:"5",xl:"5"},r.a.createElement(O,{data:a,addItem:this.addItem,inputChange:this.inputChange,convertPriority:this.convertPriority,convertDate:m,buttonDisabled:n,selectedPriority:l,selectedDate:i,selectedTag:s}),r.a.createElement(y.g,{className:"row-1"},r.a.createElement(y.b,null,r.a.createElement("div",{className:"calendar"},r.a.createElement(S,{value:i,handleOnChange:this.changeDate,convertDate:m}))),r.a.createElement(y.b,null,r.a.createElement("div",{className:"priority--top"},r.a.createElement(C,{value:l,handleOnChange:this.changePriority})))),r.a.createElement(y.g,{className:"row-2 no-gutters"},r.a.createElement(y.b,{className:"sort padding-right",xs:"auto"},r.a.createElement(y.f,{type:"select",className:"select-sort",value:o,innerRef:this.selectSortBy,onChange:this.sortItems},r.a.createElement("option",{value:"None"},"Sort: None"),r.a.createElement("option",{value:"Priority"},"Priority"),r.a.createElement("option",{value:"Date Due"},"Date Due"),r.a.createElement("option",{value:"A-Z"},"A-Z"),r.a.createElement("option",{value:"Tags"},"Tags"),r.a.createElement("option",{value:"Selected Tag"},"Selected Tag"))),r.a.createElement(y.b,{className:"tag-select",xs:"auto",sm:{offset:2},md:{offset:1},xl:{offset:3}},r.a.createElement(y.f,{type:"select",value:s,onChange:this.changeTag},this.state.data.tags.map(function(e,t){return r.a.createElement("option",{key:t,value:e},"None"===e?"Tag: None":e)})),r.a.createElement(y.a,{outline:!0,color:"secondary",size:"sm",onClick:this.removeTag},"-"),r.a.createElement(y.a,{outline:!0,color:"secondary",size:"sm",onClick:this.addTag},"+"))),r.a.createElement(N,{className:"list"},r.a.createElement(f.TransitionGroup,null,a.listItems.map(function(t,n){return t.hidden?null:r.a.createElement(f.CSSTransition,{key:t.id,timeout:500,classNames:"fade"},r.a.createElement(T,{data:a,item:t,index:n,handleTextChange:e.handleTextChange,editText:e.editText,toggleEditItem:e.toggleEditItem,articulateDateDue:g,markComplete:e.markComplete,sortItems:e.sortItems,convertPriority:e.convertPriority,editDate:e.editDate,convertDate:m,editPriority:e.editPriority}))}))),r.a.createElement(y.a,{className:"settings-button",outline:!0,color:"secondary",onClick:this.toggleSettings},"\u2699"),r.a.createElement("div",{className:"settings"},r.a.createElement("fieldset",{hidden:c},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("select",{className:"select-style",value:u,onChange:this.changeStyle},r.a.createElement("option",{value:"None"},"None"),r.a.createElement("option",{value:"Default"},"Default"),r.a.createElement("option",{value:"Marie"},"Marie"))),r.a.createElement("legend",null,"Choose your colours"),r.a.createElement("div",null,r.a.createElement("input",{className:"change-color",type:"color",value:a.settings.style.colorHigh,onChange:function(t){return e.changeColor(t,"colorHigh")}}),r.a.createElement("label",null,"High Priority")),r.a.createElement("div",null,r.a.createElement("input",{className:"change-color",type:"color",value:a.settings.style.colorMedium,onChange:function(t){return e.changeColor(t,"colorMedium")}}),r.a.createElement("label",null,"Medium Priority")),r.a.createElement("div",null,r.a.createElement("input",{className:"change-color",type:"color",value:a.settings.style.colorLow,onChange:function(t){return e.changeColor(t,"colorLow")}}),r.a.createElement("label",null,"Low Priority"))))))))}}]),t}(n.Component);B.defaultProps={convertDate:m,articulateDateDue:g,arrayMove:h};var H=B,M=(a(47),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=localStorage.getItem("data_2");return r.a.createElement(H,{data:e,saveData:function(e){return localStorage.setItem("data_2",JSON.stringify(e))},convertDate:m,articulateDateDue:g,arrayMove:h})}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(49);i.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.23de7434.chunk.js.map